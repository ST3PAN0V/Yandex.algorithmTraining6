(()=>{var e={837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81),s=n.n(i),r=n(645),o=n.n(r)()(s());o.push([e.id,'.j9B7up68rde9UJix2n7v{cursor:pointer;pointer-events:all}.j9B7up68rde9UJix2n7v a{font-size:14px;font-weight:400;font-family:"YS Text","Helvetica Neue",Helvetica,Arial,sans-serif;position:fixed;z-index:1000;padding:10px 18px 25px 12px;height:0px;background-color:#f0f0f0;color:rgba(0,0,0,.85);box-shadow:0px 4px 7px rgba(0,0,0,.25);will-change:transform}.j9B7up68rde9UJix2n7v.GaiCtmG9gshFjfLqdzeG a,.j9B7up68rde9UJix2n7v.AIfawx9HF4cM9LuOMt0k a{border-radius:8px 8px 0 0}.j9B7up68rde9UJix2n7v.b2ZKP3R8L2SZ3UdAXICQ a,.j9B7up68rde9UJix2n7v.mnuHg_VGaA9cmuJ7Fjgw a{border-radius:0 0 8px 8px;box-shadow:0px 4px 7px rgba(0,0,0,.25)}.j9B7up68rde9UJix2n7v.GaiCtmG9gshFjfLqdzeG a{right:-64px;transform:rotate(-90deg)}.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.GaiCtmG9gshFjfLqdzeG a{right:-52px}.j9B7up68rde9UJix2n7v.GaiCtmG9gshFjfLqdzeG.fMuOOsa1oUBWZbZ3oXnV a{right:-56px}.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.GaiCtmG9gshFjfLqdzeG.fMuOOsa1oUBWZbZ3oXnV a{right:-44px}.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.b2ZKP3R8L2SZ3UdAXICQ a,.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.AIfawx9HF4cM9LuOMt0k a{padding:10px 0px 25px 12px;width:120px}.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.b2ZKP3R8L2SZ3UdAXICQ.fMuOOsa1oUBWZbZ3oXnV a,.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.AIfawx9HF4cM9LuOMt0k.fMuOOsa1oUBWZbZ3oXnV a{padding:10px 6px 25px 12px;width:100px}.j9B7up68rde9UJix2n7v.mnuHg_VGaA9cmuJ7Fjgw a{left:-64px;transform:rotate(-90deg)}.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.mnuHg_VGaA9cmuJ7Fjgw a{left:-52px}.j9B7up68rde9UJix2n7v.mnuHg_VGaA9cmuJ7Fjgw.fMuOOsa1oUBWZbZ3oXnV a{left:-56px}.j9B7up68rde9UJix2n7v.GGh_6dEqoE3cFL6TXe_X.mnuHg_VGaA9cmuJ7Fjgw.fMuOOsa1oUBWZbZ3oXnV a{left:-44px}.j9B7up68rde9UJix2n7v.AIfawx9HF4cM9LuOMt0k a{bottom:0px}.j9B7up68rde9UJix2n7v.b2ZKP3R8L2SZ3UdAXICQ a{top:0px}.j9B7up68rde9UJix2n7v.AIfawx9HF4cM9LuOMt0k a,.j9B7up68rde9UJix2n7v.b2ZKP3R8L2SZ3UdAXICQ a{left:0;right:0;margin:auto;width:134px}@media(max-width: 480px){.j9B7up68rde9UJix2n7v.GaiCtmG9gshFjfLqdzeG a,.j9B7up68rde9UJix2n7v.mnuHg_VGaA9cmuJ7Fjgw a{bottom:150px}}@media(min-width: 481px){.j9B7up68rde9UJix2n7v.GaiCtmG9gshFjfLqdzeG a,.j9B7up68rde9UJix2n7v.mnuHg_VGaA9cmuJ7Fjgw a{top:200px}}',""]),o.locals={this:"j9B7up68rde9UJix2n7v",right:"GaiCtmG9gshFjfLqdzeG",bottom:"AIfawx9HF4cM9LuOMt0k",top:"b2ZKP3R8L2SZ3UdAXICQ",left:"mnuHg_VGaA9cmuJ7Fjgw",headerHidden:"GGh_6dEqoE3cFL6TXe_X","en-fix":"fMuOOsa1oUBWZbZ3oXnV"};const a=o},90:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81),s=n.n(i),r=n(645),o=n.n(r)()(s());o.push([e.id,'.u8n8V1CYJG6ACDwa777w{position:absolute;display:block;width:16px;height:16px;font-size:0;background-repeat:no-repeat;background-position:50% 50%;border-radius:50%}.u8n8V1CYJG6ACDwa777w:after{position:absolute;content:"";width:44px;height:26px;left:-20px;top:-8px}.u8n8V1CYJG6ACDwa777w:hover{cursor:pointer;background-color:var(--color-close-hover-bg)}',""]),o.locals={this:"u8n8V1CYJG6ACDwa777w"};const a=o},211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81),s=n.n(i),r=n(645),o=n.n(r)()(s());o.push([e.id,".qbORpikLObufPvziZ9y_{position:fixed;top:0;left:0;right:0;bottom:0;height:auto;transition:.5s all;z-index:9999;pointer-events:all;background-color:rgba(0,0,0,.25);display:flex;justify-content:center;align-items:center}.hHnggwS8sytaHsy6fuWZ{position:relative;width:545px;max-width:100%;border-radius:16px;box-shadow:0px 4px 7px rgba(0,0,0,.25);background-color:var(--color-content-bg)}.wEOFUiLOfluq86BrDUfg{min-height:42px;border-radius:16px 16px 0px 0px;background:var(--color-header-modal-bg) 50% 55% no-repeat;background-size:132px}.wEOFUiLOfluq86BrDUfg._2M3fKxqWmql09JUCBEg{display:none}.fp0QgCrX1y48p3elvLVi{overflow:hidden;background:var(--color-content-bg);border-radius:0px 0px 16px 16px;height:auto}.fp0QgCrX1y48p3elvLVi._2M3fKxqWmql09JUCBEg{border-radius:16px}.fp0QgCrX1y48p3elvLVi iframe{display:block;border:0;overflow:auto;width:100%}.Phidw_u4HJIdFwFJpWzG{top:12px;right:12px}@media(max-height: 669px)and (min-height: 370px){.fp0QgCrX1y48p3elvLVi iframe{min-height:320px}}@media(min-height: 670px){.fp0QgCrX1y48p3elvLVi iframe{min-height:620px}}",""]),o.locals={visible:"qbORpikLObufPvziZ9y_",main:"hHnggwS8sytaHsy6fuWZ",header:"wEOFUiLOfluq86BrDUfg",header_hidden:"_2M3fKxqWmql09JUCBEg",content:"fp0QgCrX1y48p3elvLVi",close:"Phidw_u4HJIdFwFJpWzG"};const a=o},917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81),s=n.n(i),r=n(645),o=n.n(r)()(s());o.push([e.id,".dzCDBUAznXSxVdGj1S7X{--thick-popup-offset: 16px;--horiz-shift: -100vw;--vert-shift: -100vh}.dzCDBUAznXSxVdGj1S7X{height:auto;background:var(--color-content-bg);border-radius:16px;pointer-events:none;z-index:9999}.dzCDBUAznXSxVdGj1S7X.fL5Owfu9xYWrxSlFekwz{position:absolute}.dzCDBUAznXSxVdGj1S7X.tFVNFALE8CgbdkspQgXJ{position:fixed}.dzCDBUAznXSxVdGj1S7X.TZbANCRE7ej6hWXvm4sw{left:var(--horiz-shift)}.dzCDBUAznXSxVdGj1S7X.sLWfm6BmA5C2rP8RH2lh{right:var(--horiz-shift)}.dzCDBUAznXSxVdGj1S7X.zyUt1ulGu7Lctcqt9Wwb{top:var(--vert-shift)}.dzCDBUAznXSxVdGj1S7X.NFKvx2noTZuUABoQOIgw{bottom:var(--vert-shift)}.dzCDBUAznXSxVdGj1S7X.sr2JfeVqmXom70U3vKtA{top:var(--vert-shift);left:var(--horiz-shift)}.dzCDBUAznXSxVdGj1S7X.NFKvx2noTZuUABoQOIgw.dzCDBUAznXSxVdGj1S7X.fL5Owfu9xYWrxSlFekwz{--vert-shift: 0}.yP6u_4fglSQcvruyoYvp{pointer-events:all;z-index:9999}.yP6u_4fglSQcvruyoYvp.dzCDBUAznXSxVdGj1S7X{transition:left .5s,right .5s,top .5s,bottom .5s ease-out}.FJkGA3xCbqzGT0n2EMy7{margin-left:auto;position:relative;box-shadow:0px 8px 40px 0px rgba(33,32,31,.12);border-radius:16px}.A9lP13CP5JmkdVp3aYdq{min-height:36px;background:var(--color-header-popup-bg) 50% 50% no-repeat;background-size:100px;border-radius:16px 16px 0 0}.A9lP13CP5JmkdVp3aYdq.hoQR6MQKQAxgFUvjJ3vC{display:none}.h4aXscBoDD4zSt5DFRwg.hoQR6MQKQAxgFUvjJ3vC{border-radius:16px}.h4aXscBoDD4zSt5DFRwg{overflow:hidden;border-radius:0px 0px 16px 16px;background:var(--color-content-bg)}.h4aXscBoDD4zSt5DFRwg.hoQR6MQKQAxgFUvjJ3vC iframe{border-radius:16px}.h4aXscBoDD4zSt5DFRwg iframe{display:block;border:0;overflow:hidden;border-radius:0 0 16px 16px;width:320px}.h4aXscBoDD4zSt5DFRwg iframe.XsSKBX1_k9QpApPDM1zs{width:calc(100vw - 2*var(--thick-popup-offset))}.Fpgt_Kf0hCJU1CoBT8fx{top:8px;right:8px}@media(max-width: 500px){.dzCDBUAznXSxVdGj1S7X.yP6u_4fglSQcvruyoYvp{--horiz-shift: 16px}.dzCDBUAznXSxVdGj1S7X.NFKvx2noTZuUABoQOIgw.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6,.dzCDBUAznXSxVdGj1S7X.zyUt1ulGu7Lctcqt9Wwb.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6{--vert-shift: 12px}.dzCDBUAznXSxVdGj1S7X.sr2JfeVqmXom70U3vKtA.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6{--vert-shift: 50%;transform:translate(0%, -50%)}.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6 .h4aXscBoDD4zSt5DFRwg iframe{transition:height .3s}.dzCDBUAznXSxVdGj1S7X.NFKvx2noTZuUABoQOIgw.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3,.dzCDBUAznXSxVdGj1S7X.sr2JfeVqmXom70U3vKtA.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3{top:12px;bottom:unset}.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3 .h4aXscBoDD4zSt5DFRwg iframe{transition:none}}@media(min-width: 501px){.dzCDBUAznXSxVdGj1S7X.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6{--horiz-shift: 30px;--vert-shift: 30px}.dzCDBUAznXSxVdGj1S7X.sr2JfeVqmXom70U3vKtA.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6{--horiz-shift: 50%;--vert-shift: 50%;transform:translate(-50%, -50%)}.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6 .h4aXscBoDD4zSt5DFRwg iframe{transition:height .3s}.dzCDBUAznXSxVdGj1S7X.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3{top:10px;bottom:unset;--horiz-shift: 30px}.dzCDBUAznXSxVdGj1S7X.sr2JfeVqmXom70U3vKtA.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3{--horiz-shift: 50%;transform:translate(-50%, 0%)}.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3 .h4aXscBoDD4zSt5DFRwg iframe{transition:none}}@media(orientation: landscape)and (max-device-width: 500px){.dzCDBUAznXSxVdGj1S7X.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3{top:10px;bottom:unset;--horiz-shift: 10px}.dzCDBUAznXSxVdGj1S7X.sr2JfeVqmXom70U3vKtA.yP6u_4fglSQcvruyoYvp.AxucLDsdelBla_Bw3Fn3{--horiz-shift: 50%;transform:translate(-50%, 0%)}.dzCDBUAznXSxVdGj1S7X.sr2JfeVqmXom70U3vKtA.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6{--horiz-shift: 50%;--vert-shift: 50%;transform:translate(-50%, -50%)}.dzCDBUAznXSxVdGj1S7X.yP6u_4fglSQcvruyoYvp.Y0n9jC_RhNVMcgcYWrA6{--horiz-shift: 10px;--vert-shift: 10px}}",""]),o.locals={popup:"dzCDBUAznXSxVdGj1S7X",absolute:"fL5Owfu9xYWrxSlFekwz",fixed:"tFVNFALE8CgbdkspQgXJ",left:"TZbANCRE7ej6hWXvm4sw",right:"sLWfm6BmA5C2rP8RH2lh",top:"zyUt1ulGu7Lctcqt9Wwb",bottom:"NFKvx2noTZuUABoQOIgw",center:"sr2JfeVqmXom70U3vKtA",active:"yP6u_4fglSQcvruyoYvp",main:"FJkGA3xCbqzGT0n2EMy7",header:"A9lP13CP5JmkdVp3aYdq",header_hidden:"hoQR6MQKQAxgFUvjJ3vC",content:"h4aXscBoDD4zSt5DFRwg",slimclass:"XsSKBX1_k9QpApPDM1zs",close:"Fpgt_Kf0hCJU1CoBT8fx",small:"Y0n9jC_RhNVMcgcYWrA6",big:"AxucLDsdelBla_Bw3Fn3"};const a=o},470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81),s=n.n(i),r=n(645),o=n.n(r)()(s());o.push([e.id,".sftrMRAIFtK_kVzdUSLs[data-theme=light]{--color-header-popup-bg: #ffffff;--color-header-modal-bg: #ffffff;--color-content-bg: #fff;--color-close-cross: rgba(0, 0, 0, 0.3);--color-close-hover-bg: rgba(209, 209, 209, 1)}.sftrMRAIFtK_kVzdUSLs[data-theme=dark]{--color-header-popup-bg: #677a9e33;--color-header-modal-bg: #677a9e33;--color-content-bg: rgba(50, 49, 53, 1);--color-close-cross: rgba(255, 255, 255, 0.3);--color-close-hover-bg: rgba(255, 255, 255, 0.12)}.sftrMRAIFtK_kVzdUSLs{overflow-x:hidden;width:100%;height:100%;position:relative}.gWQ6kLPL_6XKDUip4ZQN{width:100vw;height:100vh;max-width:100%;position:absolute;top:0;left:0;pointer-events:none}.qUmstruTeB5JYz66X8oS{position:absolute;visibility:hidden;width:100%;height:1px;left:0;top:0}",""]),o.locals={root:"sftrMRAIFtK_kVzdUSLs",overflow_wrapper:"gWQ6kLPL_6XKDUip4ZQN","scroll-observer-line":"qUmstruTeB5JYz66X8oS"};const a=o},416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81),s=n.n(i),r=n(645),o=n.n(r)()(s());o.push([e.id,"body.ya-feedback__modal_open {\n    overflow: hidden;\n}\n",""]);const a=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,s,r){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&o[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),t.push(u))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},822:function(e,t,n){e.exports=function(e){function t(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s.toLowerCase()]=s);var o=e[t.ontouchstart],a=e[t.ontouchtap],l=e[t.onclick];delete e[t.ontouchtap],e[t.onclick||"onClick"]=function(e){if(l&&l(e),!r)return a(e)},e[t.ontouchstart||"onTouchStart"]=function(e){var t=n(e);if(r=!0,addEventListener("touchend",(function e(s){removeEventListener("touchend",e);var r=n(s);Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))<i.threshold&&a(s)})),o)return o(e)}}function n(e){var t=e.changedTouches&&e.changedTouches[0]||e.touches&&e.touches[0]||e;return{x:t.pageX,y:t.pageY,target:t.target}}var i={threshold:10},s=void 0,r=void 0;return function(n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);if(!s){s=!0;var o=e.options.vnode;e.options.vnode=function(e){var n=e.attributes;if(n)for(var i in n)if(n.hasOwnProperty(i)&&"ontouchtap"===i.toLowerCase()){t(n);break}o&&o(e)}}}}(n(400))},400:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Component:()=>A,Fragment:()=>g,cloneElement:()=>N,createContext:()=>R,createElement:()=>m,createRef:()=>b,h:()=>m,hydrate:()=>Q,isValidElement:()=>o,options:()=>s,render:()=>M,toChildArray:()=>L});var i,s,r,o,a,l,c,u,d,h={},_=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n){var s,r,o,a={};for(o in t)"key"==o?s=t[o]:"ref"==o?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return y(e,a,s,r,null)}function y(e,t,n,i,o){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++r:o};return null==o&&null!=s.vnode&&s.vnode(a),a}function b(){return{current:null}}function g(e){return e.children}function x(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||v.test(t)?n:n+"px"}function w(e,t,n,i,s){var r;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||x(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||x(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?i||e.addEventListener(t,r?k:S,r):e.removeEventListener(t,r?k:S,r);else if("dangerouslySetInnerHTML"!==t){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function S(e){a=!0;try{return this.l[e.type+!1](s.event?s.event(e):e)}finally{a=!1}}function k(e){a=!0;try{return this.l[e.type+!0](s.event?s.event(e):e)}finally{a=!1}}function A(e,t){this.props=e,this.context=t}function C(e,t){if(null==t)return e.__?C(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?C(e):null}function F(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return F(e)}}function P(e){a?setTimeout(e):u(e)}function U(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!E.__r++||c!==s.debounceRendering)&&((c=s.debounceRendering)||P)(E)}function E(){var e,t,n,i,s,r,o,a;for(l.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=l.shift();)e.__d&&(t=l.length,i=void 0,s=void 0,o=(r=(n=e).__v).__e,(a=n.__P)&&(i=[],(s=p({},r)).__v=r.__v+1,G(a,r,s,n.__n,void 0!==a.ownerSVGElement,null!=r.__h?[o]:null,i,null==o?C(r):o,r.__h),D(i,r),r.__e!=o&&F(r)),l.length>t&&l.sort((function(e,t){return e.__v.__b-t.__v.__b})));E.__r=0}function B(e,t,n,i,s,r,o,a,l,c){var u,d,v,p,f,m,b,x=i&&i.__k||_,w=x.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(p=n.__k[u]=null==(p=t[u])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?y(null,p,null,null,p):Array.isArray(p)?y(g,{children:p},null,null,null):p.__b>0?y(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(v=x[u])||v&&p.key==v.key&&p.type===v.type)x[u]=void 0;else for(d=0;d<w;d++){if((v=x[d])&&p.key==v.key&&p.type===v.type){x[d]=void 0;break}v=null}G(e,p,v=v||h,s,r,o,a,l,c),f=p.__e,(d=p.ref)&&v.ref!=d&&(b||(b=[]),v.ref&&b.push(v.ref,null,p),b.push(d,p.__c||f,p)),null!=f?(null==m&&(m=f),"function"==typeof p.type&&p.__k===v.__k?p.__d=l=X(p,l,e):l=z(e,p,v,x,f,l),"function"==typeof n.type&&(n.__d=l)):l&&v.__e==l&&l.parentNode!=e&&(l=C(v))}for(n.__e=m,u=w;u--;)null!=x[u]&&("function"==typeof n.type&&null!=x[u].__e&&x[u].__e==n.__d&&(n.__d=j(i).nextSibling),H(x[u],x[u]));if(b)for(u=0;u<b.length;u++)T(b[u],b[++u],b[++u])}function X(e,t,n){for(var i,s=e.__k,r=0;s&&r<s.length;r++)(i=s[r])&&(i.__=e,t="function"==typeof i.type?X(i,t,n):z(n,i,i,s,i.__e,t));return t}function L(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){L(e,t)})):t.push(e)),t}function z(e,t,n,i,s,r){var o,a,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||s!=r||null==s.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(s),o=null;else{for(a=r,l=0;(a=a.nextSibling)&&l<i.length;l+=1)if(a==s)break e;e.insertBefore(s,r),o=r}return void 0!==o?o:s.nextSibling}function j(e){var t,n,i;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(i=j(n)))return i;return null}function G(e,t,n,i,r,o,a,l,c){var u,d,h,_,v,f,m,y,b,x,w,S,k,C,F,P=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,l=t.__e=n.__e,t.__h=null,o=[l]),(u=s.__b)&&u(t);try{e:if("function"==typeof P){if(y=t.props,b=(u=P.contextType)&&i[u.__c],x=u?b?b.props.value:u.__:i,n.__c?m=(d=t.__c=n.__c).__=d.__E:("prototype"in P&&P.prototype.render?t.__c=d=new P(y,x):(t.__c=d=new A(y,x),d.constructor=P,d.render=O),b&&b.sub(d),d.props=y,d.state||(d.state={}),d.context=x,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=P.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=p({},d.__s)),p(d.__s,P.getDerivedStateFromProps(y,d.__s))),_=d.props,v=d.state,d.__v=t,h)null==P.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==P.getDerivedStateFromProps&&y!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,x),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,x)||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,x),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,v,f)}))}if(d.context=x,d.props=y,d.__P=e,S=s.__r,k=0,"prototype"in P&&P.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(t),u=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do{d.__d=!1,S&&S(t),u=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++k<25);d.state=d.__s,null!=d.getChildContext&&(i=p(p({},i),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(f=d.getSnapshotBeforeUpdate(_,v)),F=null!=u&&u.type===g&&null==u.key?u.props.children:u,B(e,Array.isArray(F)?F:[F],t,n,i,r,o,a,l,c),d.base=t.__e,t.__h=null,d.__h.length&&a.push(d),m&&(d.__E=d.__=null),d.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=V(n.__e,t,n,i,r,o,a,c);(u=s.diffed)&&u(t)}catch(e){t.__v=null,(c||null!=o)&&(t.__e=l,t.__h=!!c,o[o.indexOf(l)]=null),s.__e(e,t,n)}}function D(e,t){s.__c&&s.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){s.__e(e,t.__v)}}))}function V(e,t,n,s,r,o,a,l){var c,u,d,_=n.props,v=t.props,p=t.type,m=0;if("svg"===p&&(r=!0),null!=o)for(;m<o.length;m++)if((c=o[m])&&"setAttribute"in c==!!p&&(p?c.localName===p:3===c.nodeType)){e=c,o[m]=null;break}if(null==e){if(null===p)return document.createTextNode(v);e=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,v.is&&v),o=null,l=!1}if(null===p)_===v||l&&e.data===v||(e.data=v);else{if(o=o&&i.call(e.childNodes),u=(_=n.props||h).dangerouslySetInnerHTML,d=v.dangerouslySetInnerHTML,!l){if(null!=o)for(_={},m=0;m<e.attributes.length;m++)_[e.attributes[m].name]=e.attributes[m].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,i,s){var r;for(r in n)"children"===r||"key"===r||r in t||w(e,r,null,n[r],i);for(r in t)s&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||w(e,r,t[r],n[r],i)}(e,v,_,r,l),d)t.__k=[];else if(m=t.props.children,B(e,Array.isArray(m)?m:[m],t,n,s,r&&"foreignObject"!==p,o,a,o?o[0]:n.__k&&C(n,0),l),null!=o)for(m=o.length;m--;)null!=o[m]&&f(o[m]);l||("value"in v&&void 0!==(m=v.value)&&(m!==e.value||"progress"===p&&!m||"option"===p&&m!==_.value)&&w(e,"value",m,_.value,!1),"checked"in v&&void 0!==(m=v.checked)&&m!==e.checked&&w(e,"checked",m,_.checked,!1))}return e}function T(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){s.__e(e,n)}}function H(e,t,n){var i,r;if(s.unmount&&s.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||T(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){s.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&H(i[r],t,n||"function"!=typeof e.type);n||null==e.__e||f(e.__e),e.__=e.__e=e.__d=void 0}function O(e,t,n){return this.constructor(e,n)}function M(e,t,n){var r,o,a;s.__&&s.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],G(t,e=(!r&&n||t).__k=m(g,null,[e]),o||h,h,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?i.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r),D(a,e)}function Q(e,t){M(e,t,Q)}function N(e,t,n){var s,r,o,a=p({},e.props);for(o in t)"key"==o?s=t[o]:"ref"==o?r=t[o]:a[o]=t[o];return arguments.length>2&&(a.children=arguments.length>3?i.call(arguments,2):n),y(e.type,a,s||e.key,r||e.ref,null)}function R(e,t){var n={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,U(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}i=_.slice,s={__e:function(e,t,n,i){for(var s,r,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((r=s.constructor)&&null!=r.getDerivedStateFromError&&(s.setState(r.getDerivedStateFromError(e)),o=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e,i||{}),o=s.__d),o)return s.__E=s}catch(t){e=t}throw e}},r=0,o=function(e){return null!=e&&void 0===e.constructor},a=!1,A.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),U(this))},A.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),U(this))},A.prototype.render=g,l=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E.__r=0,d=0},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},o=[],a=0;a<e.length;a++){var l=e[a],c=i.base?l[0]+i.base:l[0],u=r[c]||0,d="".concat(c," ").concat(u);r[c]=u+1;var h=n(d),_={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(_);else{var v=s(_,i);i.byIndex=a,t.splice(a,0,{identifier:d,updater:v,references:1})}o.push(d)}return o}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var r=i(e=e||[],s=s||{});return function(e){e=e||[];for(var o=0;o<r.length;o++){var a=n(r[o]);t[a].references--}for(var l=i(e,s),c=0;c<r.length;c++){var u=n(r[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,s&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={id:i,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var i={};(()=>{"use strict";n.r(i),n.d(i,{App:()=>Ae});var e,t,s,r,o=n(400),a=0,l=[],c=[],u=o.options.__b,d=o.options.__r,h=o.options.diffed,_=o.options.__c,v=o.options.unmount;function p(e,n){o.options.__h&&o.options.__h(t,e,a||n),a=0;var i=t.__H||(t.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({__V:c}),i.__[e]}function f(n){return a=1,function(n,i,s){var r=p(e++,2);if(r.t=n,!r.__c&&(r.__=[F(void 0,i),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=t,!t.u)){t.u=!0;var o=t.shouldComponentUpdate;t.shouldComponentUpdate=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var s=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),!(!s&&r.__c.props===e)&&(!o||o.call(this,e,t,n))}}return r.__N||r.__}(F,n)}function m(n,i){var s=p(e++,3);!o.options.__s&&C(s.__H,i)&&(s.__=n,s.i=i,t.__H.__h.push(s))}function y(e){return a=5,b((function(){return{current:e}}),[])}function b(t,n){var i=p(e++,7);return C(i.__H,n)?(i.__V=t(),i.i=n,i.__h=t,i.__V):i.__}function g(n){var i=t.context[n.__c],s=p(e++,9);return s.c=n,i?(null==s.__&&(s.__=!0,i.sub(t)),i.props.value):n.__}function x(){for(var e;e=l.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(k),e.__H.__h.forEach(A),e.__H.__h=[]}catch(t){e.__H.__h=[],o.options.__e(t,e.__v)}}o.options.__b=function(e){t=null,u&&u(e)},o.options.__r=function(n){d&&d(n),e=0;var i=(t=n.__c).__H;i&&(s===t?(i.__h=[],t.__h=[],i.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=c,e.__N=e.i=void 0}))):(i.__h.forEach(k),i.__h.forEach(A),i.__h=[])),s=t},o.options.diffed=function(e){h&&h(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==l.push(n)&&r===o.options.requestAnimationFrame||((r=o.options.requestAnimationFrame)||S)(x)),n.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==c&&(e.__=e.__V),e.i=void 0,e.__V=c}))),s=t=null},o.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(k),e.__h=e.__h.filter((function(e){return!e.__||A(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.options.__e(n,e.__v)}})),_&&_(e,t)},o.options.unmount=function(e){v&&v(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{k(e)}catch(e){t=e}})),n.__H=void 0,t&&o.options.__e(t,n.__v))};var w="function"==typeof requestAnimationFrame;function S(e){var t,n=function(){clearTimeout(i),w&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);w&&(t=requestAnimationFrame(n))}function k(e){var n=t,i=e.__c;"function"==typeof i&&(e.__c=void 0,i()),t=n}function A(e){var n=t;e.__c=e.__(),t=n}function C(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function F(e,t){return"function"==typeof t?t(e):t}const P="survey.embed.rendered",U="survey.embed.left_last_page";var E;!function(e){e.Ru="ru",e.Kz="kz",e.By="by",e.Ua="ua",e.Com="com",e.ComTr="com.tr",e.Uz="uz"}(E||(E={}));const B="https://yastatic.net/s3/distribution/pythia/feedback-lib/latest";function X(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>void 0!==t)))}function L(){const e=window.location.origin.split(".").pop();return"tr"===e?E.ComTr:Object.values(E).includes(e)&&e||E.Ru}const z=(e,t)=>{if(""===e)return"";const n=L(),i=new URL(`https://yandex.${n}/poll/feedback/enter/${e}`),s={_footer_enable_:"0",_embedded_:"1",_origin_:window.location.href};return i.search=new URLSearchParams(Object.assign(Object.assign({},s),t)).toString(),i.toString()};var j,G=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.RENDERED="ya:feedback:survey:rendered",e.SYNC="ya:feedback:survey:sync",e.SKIP="ya:feedback:survey:skip",e.FINISHED="ya:feedback:survey:finished",e.SUITABLE="ya:feedback:suitable",e.SHOW_PASSIVE="ya:feedback:passive_survey:show",e.CLOSE_PASSIVE="ya:feedback:passive_survey:close"}(j||(j={}));class D{constructor(e,t){this.name=e,this.data=t}}class V{constructor(e,t,n,i,s,r=!0){this.isFinished=!1,this.isRendered=!1,this.enabled=!0,this.slug=e.slug,this.owner_id=t,this.uid=s,this.events=e.events,this.appearance=e.appearance,this.fulfilled_events={},this.enabled=r;const o=n.host.endsWith(".")?L():"";this.baseUrl=`${n.protocol}${n.host}${o}${n.path}`,this.dispatchEvent=i,this.events.forEach((e=>this.fulfilled_events[e.event]=!1))}setFulfilled(e){this.fulfilled_events[e]=!0}setRendered(){this.isRendered=!0,this.dispatchEvent(new D(j.RENDERED,{detail:{survey:this}}))}setEnabled(e){this.enabled=e}isFullfilled(e){return this.fulfilled_events[e]}checkNoAnnoy(){return G(this,void 0,void 0,(function*(){const e=new URL(`${this.baseUrl}/no-annoy/sync`);e.search=this.getNoAnnoyQueryParams();const t=yield fetch(e,{method:"GET",cache:"no-cache",credentials:this.uid?"omit":"include",headers:{"Content-Type":"application/json"}}),n=yield t.json();return this.dispatchEvent(new D(j.SYNC,{detail:{survey:this,response:n}})),n.show||!1}))}getNoAnnoyQueryParams(){const e={owner_id:this.owner_id,site:window.location.hostname||"localhost",slug:this.slug};return this.uid&&(e.uid=this.uid),String(new URLSearchParams(e))}skip(){return G(this,void 0,void 0,(function*(){const e=new URL(`${this.baseUrl}/no-annoy/skip`);e.search=this.getNoAnnoyQueryParams();const t=yield fetch(e,{method:"GET",cache:"no-cache",credentials:this.uid?"omit":"include",headers:{"Content-Type":"application/json"}}),n=yield t.json();return this.dispatchEvent(new D(j.SKIP,{detail:{survey:this,response:n}})),t.ok}))}setFinished(){this.isFinished=!0,this.dispatchEvent(new D(j.FINISHED,{detail:{survey:this}}))}checkShow(e){var t;return G(this,void 0,void 0,(function*(){let n=!1;if(!this.enabled||this.isRendered||this.isFinished)return!1;const i=Object.keys(this.fulfilled_events).filter((e=>["onload","scroll","reachGoal"].includes(e))).every((e=>this.fulfilled_events[e])),s=null===(t=this.fulfilled_events)||void 0===t?void 0:t.action;switch(e){case"onload":case"scroll":case"reachGoal":n=i;break;case"action":n=s;break;case"survey_enabled":n=i||s;break;default:n=!1}return n&&this.checkNoAnnoy()}))}}const T=(0,o.createContext)("light"),H=(0,o.createContext)("ru");function O(){return g(T)}function M(e,t,n,i){m((()=>{const n=L();i&&e.current.contentWindow.postMessage({event:"survey.embed.set_theme_mode",mode:t},`https://yandex.${n}`)}),[e,t,n,i])}var Q=n(822),N=n.n(Q),R=n(379),J=n.n(R),q=n(795),Z=n.n(q),I=n(569),Y=n.n(I),W=n(565),$=n.n(W),K=n(216),ee=n.n(K),te=n(589),ne=n.n(te),ie=n(90),se={};se.styleTagTransform=ne(),se.setAttributes=$(),se.insert=Y().bind(null,"head"),se.domAPI=Z(),se.insertStyleElement=ee(),J()(ie.Z,se);const re=ie.Z&&ie.Z.locals?ie.Z.locals:void 0;N()();const oe=function(e){const t=O();return(0,o.h)("a",{className:`${re.this} ${e.className}`,tabIndex:0,role:"button",onClick:e.onClick,style:{backgroundImage:`url(${B}/images/cross-${t}.svg)`}})};var ae=n(917),le={};le.styleTagTransform=ne(),le.setAttributes=$(),le.insert=Y().bind(null,"head"),le.domAPI=Z(),le.insertStyleElement=ee(),J()(ae.Z,le);const ce=ae.Z&&ae.Z.locals?ae.Z.locals:void 0,ue=function(e){var t;const n=O(),{survey:i,queryParams:s,onClose:r,showHeader:l=!0,direction:c="bottom-left"}=e,u=(null==i?void 0:i.appearance)||{},d=X({spinner_view:null==u?void 0:u.spinnerView,spinner_color:null==u?void 0:u.spinnerColor,underlay_bg:null==u?void 0:u.underlayBg,dark_spinner_color:null==u?void 0:u.darkSpinnerColor,dark_underlay_bg:null==u?void 0:u.darkUnderlayBg}),{headerBg:h,darkHeaderBg:_}=u,v="light"===n?h:_,p=Object.assign(s,d),g=1e3*(null===(t=null==u?void 0:u.closeAfterSeconds)||void 0===t?void 0:t.time)||1e3,[x,w]=f(!1),[S,k]=f(!1),[A,C]=f(210),[F,E]=f(document.body.scrollHeight),[L,j]=f(window.innerHeight),[G,D]=f(window.innerWidth),[V,T]=f(A>L?"big":"small"),H=y(null),Q=y(null),N=e=>{let t=e;return l&&(t+=36),e>L&&(t+=10),t},[R,J]=f(N(A)>=F?"absolute":"fixed");m((()=>{T("center"!==c?A>L?"big":"small":A>L/2?"big":"small"),J(N(A)>=F?"absolute":"fixed"),G<=500?Q.current.classList.add(ce.slimclass):Q.current.classList.remove(ce.slimclass)}),[A,L,F,G]);const q=()=>{w(!1),r()},Z=e=>{var t;if(e.source!==Q.current.contentWindow)return;if(!i)return;const n=e.data;let s;if("string"==typeof n)try{s=JSON.parse(n)}catch(e){s=null}else s=n;(null==s?void 0:s.event)===P&&(w(!0),k(!0),null==i||i.setRendered()),"survey.embed.page_switched"===(null==s?void 0:s.event)&&-1!==(null==s?void 0:s.payload.pageNumber)&&C(null==s?void 0:s.payload.height),"survey.embed.height_changed"!==(null==s?void 0:s.event)||i.isFinished||C(null===(t=null==s?void 0:s.payload)||void 0===t?void 0:t.height),(null==s?void 0:s.event)===U&&(C(210),i.setFinished(),setTimeout(q,g))},I=function(e,t){return a=8,b((function(){return e}),t)}((()=>{!x||N(A)>=F||A>L-20&&(A>L-20+window.scrollY?H.current.style.top=10-window.scrollY+"px":H.current.style.top=L-A-10+"px")}),[A,L,F,x]);m((()=>(I(),window.addEventListener("scroll",I),function(){window.removeEventListener("scroll",I)})),[I]),m((()=>{window.addEventListener("message",Z);const e=new ResizeObserver((e=>{E(e[0].contentRect.height),j(window.innerHeight),D(window.innerWidth)}));return e.observe(document.body),function(){window.removeEventListener("message",Z),e.unobserve(document.body)}}),[]),M(Q,n,i.slug,S),H.current&&(H.current.style.top="");const Y=[ce.popup].concat(c.split("-").map((e=>ce[e])));return x&&Y.push(ce.active),Y.push(ce[V]),Y.push(ce[R]),m((()=>{k(!1)}),[i.slug,s]),null!==i&&(0,o.h)("div",{className:Y.join(" "),ref:H},(0,o.h)("div",{className:ce.main},(0,o.h)(oe,{className:ce.close,onClick:q}),(0,o.h)("div",{className:l?ce.header:`${ce.header} ${ce.header_hidden}`,style:l?Object.assign({backgroundImage:`url(${B}/images/yandex-logo-${n}.svg)`},v&&{"--color-header-popup-bg":v}):{}}),(0,o.h)("div",{className:l?ce.content:`${ce.content} ${ce.header_hidden}`},(0,o.h)("iframe",{src:z(i.slug,p),height:`${A}px`,ref:Q,scrolling:"no"}))))};var de=n(211),he={};he.styleTagTransform=ne(),he.setAttributes=$(),he.insert=Y().bind(null,"head"),he.domAPI=Z(),he.insertStyleElement=ee(),J()(de.Z,he);const _e=de.Z&&de.Z.locals?de.Z.locals:void 0;var ve=n(416),pe={};pe.styleTagTransform=ne(),pe.setAttributes=$(),pe.insert=Y().bind(null,"head"),pe.domAPI=Z(),pe.insertStyleElement=ee(),J()(ve.Z,pe),ve.Z&&ve.Z.locals&&ve.Z.locals;const fe=e=>{const{headerBgColor:t,showHeader:n=!0}=e,i=O();return(0,o.h)("div",{onClick:e.onDismiss,className:_e.visible},(0,o.h)("div",{className:_e.main,onClick:e=>e.stopPropagation()},(0,o.h)(oe,{className:_e.close,onClick:e.onDismiss}),(0,o.h)("div",{className:n?_e.header:`${_e.header} ${_e.header_hidden}`,style:Object.assign({backgroundImage:`url(${B}/images/yandex-logo-${i}.svg)`},t&&{"--color-header-modal-bg":t})},e.title),(0,o.h)("div",{className:n?_e.content:`${_e.content} ${_e.header_hidden}`},e.content)))};var me=n(837),ye={};ye.styleTagTransform=ne(),ye.setAttributes=$(),ye.insert=Y().bind(null,"head"),ye.domAPI=Z(),ye.insertStyleElement=ee(),J()(me.Z,ye);const be=me.Z&&me.Z.locals?me.Z.locals:void 0,ge=function(e){var t;const{slug:n,queryParams:i,appearance:s,isModalVisible:r,onCloseModal:a,onShowModal:l,showHeader:c=!0}=e,[u,d]=f(!1),h=y(null),_=O(),v=(null==s?void 0:s.direction)||"right",p=X({spinner_view:null==s?void 0:s.spinnerView,spinner_color:null==s?void 0:s.spinnerColor,underlay_bg:null==s?void 0:s.underlayBg,dark_spinner_color:null==s?void 0:s.darkSpinnerColor,dark_underlay_bg:null==s?void 0:s.darkUnderlayBg}),{headerBg:b,darkHeaderBg:x}=null!=s?s:{},w="light"===_?b:x,S=(null==s?void 0:s.isButtonHidden)||!1,k=1e3*(null===(t=null==s?void 0:s.closeAfterSeconds)||void 0===t?void 0:t.time)||1e3,A=g(H),C=()=>{document.body.classList.remove("ya-feedback__modal_open"),d(!1),a()},F=e=>{if(null===h||null===h.current||e.source!==h.current.contentWindow)return;let t;if("string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){t=null}""!==n&&(null==t?void 0:t.event)===P&&d(!0),""!==n&&t&&t.event===U&&setTimeout(C,k)};return m((()=>(window.addEventListener("message",F),function(){window.removeEventListener("message",F)})),[]),(0,o.h)("div",null,!S&&(0,o.h)("div",{className:`${be.this} ${c?"":be.headerHidden}  ${be[v]}\n${be["ru"!==A?"en-fix":""]}`},(0,o.h)("a",{onClick:()=>{document.body.classList.add("ya-feedback__modal_open"),l()}},c&&(0,o.h)("img",{src:`${B}/images/logo-short.svg`,height:12})," ","ru"===A?"Оставить отзыв":"Give feedback")),r&&(0,o.h)(fe,{content:(()=>{const e=Object.assign({},i,p),t=O();return M(h,t,n,u),(0,o.h)("iframe",{src:z(n,e),scrolling:"auto",ref:h})})(),showHeader:c,onDismiss:C,headerBgColor:w}))};var xe=n(470),we={};we.styleTagTransform=ne(),we.setAttributes=$(),we.insert=Y().bind(null,"head"),we.domAPI=Z(),we.insertStyleElement=ee(),J()(xe.Z,we);const Se=xe.Z&&xe.Z.locals?xe.Z.locals:void 0;var ke=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const Ae={fetch:null,init:null,fireEvent:null,setActiveFeedbackQueryParams:null,setPassiveFeedbackQueryParams:null,setDefaultQueryParams:null,setTheme:null,forceTheme:null,hideHeader:null,showHeader:null,showActiveFeedback:null,showPassiveFeedback:null,closePassiveFeedback:null,subscribe:null,unsubscribe:null,disableAllSurveys:null,enableAllSurveys:null,embed:(e=document.body)=>{const t=document.createElement("div");return e.appendChild(t),(0,o.render)((0,o.h)(Ce,null),t),()=>{e.removeChild(t)}}};class Ce extends o.Component{constructor(){super(Ce),this.onloadTimerIds=[],this.supportOldMetrikaCounter=!1,this.on_show_passive_callbacks=[],this.on_close_passive_callbacks=[],this.api=new class{constructor(){this.surveys=[],this.query_params={},this.event_callbacks={},this.surveys_disabled=!1}init(e,t){const{apiUrl:n,uid:i,lang:s="ru",testIds:r,customParams:o}=t;this.owner_id=e,this.apiUrl=n||{host:"surveys.yandex.",path:"/api/v0/feedback",protocol:"https://"},this.query_params={default:{}},this.uid=i,this.lang=s,this.test_ids=r,this.event_callbacks={},this.custom_params=o}dispatchEvent(e){var t;null===(t=this.event_callbacks[e.name])||void 0===t||t.forEach((t=>t(e.data)))}addEventListener(e,t){this.event_callbacks[e]=this.event_callbacks[e]||[],this.event_callbacks[e].push(t)}removeEventListener(e,t){var n;this.event_callbacks[e]=null===(n=this.event_callbacks[e])||void 0===n?void 0:n.filter((e=>e!==t))}fetchActiveSurveys(){return G(this,void 0,void 0,(function*(){const e=this.apiUrl.host.endsWith(".")?L():"",t=new URL(`\n            ${this.apiUrl.protocol}${this.apiUrl.host}${e}${this.apiUrl.path}/survey/suitable\n        `),n={owner_id:this.owner_id,source_url:window.location.href};this.lang&&(n.lang=this.lang),this.uid&&(n.uid=this.uid),this.test_ids&&(n["test-id"]=this.test_ids.join(",")),t.search=String(new URLSearchParams(n));const i=yield fetch(t,{method:this.custom_params?"POST":"GET",cache:"no-cache",credentials:this.uid?"omit":"include",headers:{"Content-Type":"application/json"},body:this.custom_params?JSON.stringify({customParams:this.custom_params}):void 0}),s=yield i.json();this.surveys=null==s?void 0:s.activeFeedbackSurveys.map((e=>new V(e,this.owner_id,this.apiUrl,this.dispatchEvent.bind(this),this.uid,!this.surveys_disabled))),Array.isArray(this.surveys)||(this.surveys=[]),this.passive_feedback=null==s?void 0:s.passiveFeedbackSurvey,this.dispatchEvent(new D(j.SUITABLE,{detail:{suitable_surveys:s}}))}))}disableAllSurveys(){var e;this.surveys_disabled=!0,null===(e=this.surveys)||void 0===e||e.forEach((e=>e.setEnabled(!1)))}enableAllSurveys(){var e;this.surveys_disabled=!1,null===(e=this.surveys)||void 0===e||e.forEach((e=>e.setEnabled(!0)))}getSurveysByCondition(e){return this.surveys.filter((t=>t.events.some((t=>t.event===e.event&&t.value===e.value))))}getSurveys(){return this.surveys}getSurveyBySlug(e){return this.surveys.find((t=>t.slug===e))}hasPassiveFeedback(){var e;return Boolean(null===(e=this.passive_feedback)||void 0===e?void 0:e.slug)}getPassiveFeedback(){return this.passive_feedback}setQueryParams(e,t){this.query_params[e]=t}getQueryParams(e){return Object.assign({},this.query_params.default,this.query_params[e])}},this.scroll_observer_line_ref=(0,o.createRef)(),Ae.fireEvent=this.fireEvent.bind(this),Ae.init=this.init.bind(this),Ae.fetch=this.fetch.bind(this),Ae.setActiveFeedbackQueryParams=this.setActiveFeedbackQueryParams.bind(this),Ae.setPassiveFeedbackQueryParams=this.setPassiveFeedbackQueryParams.bind(this),Ae.setDefaultQueryParams=this.setDefaultQueryParams.bind(this),Ae.setTheme=this.setTheme.bind(this),Ae.forceTheme=this.forceTheme.bind(this),Ae.hideHeader=this.hideHeader.bind(this),Ae.showHeader=this.showHeader.bind(this),Ae.showActiveFeedback=this.showActiveFeedback.bind(this),Ae.showPassiveFeedback=this.showPassiveFeedback.bind(this),Ae.closePassiveFeedback=this.closePassiveFeedback.bind(this),Ae.subscribe=this.subscribe.bind(this),Ae.unsubscribe=this.unsubscribe.bind(this),Ae.disableAllSurveys=this.disableAllSurveys.bind(this),Ae.enableAllSurveys=this.enableAllSurveys.bind(this)}fetch(){return ke(this,void 0,void 0,(function*(){yield this.api.fetchActiveSurveys(),this.setupActiveFeedbackEventHandlers(),this.setState({has_passive_feedback:this.api.hasPassiveFeedback()})}))}fireEvent(e){return ke(this,void 0,void 0,(function*(){this.api.getSurveysByCondition({event:"action",value:e}).forEach((e=>ke(this,void 0,void 0,(function*(){e.setFulfilled("action"),(yield e.checkShow("action"))&&this.setState({survey_active:e})}))))}))}getLang(e){return e||(L()===E.Ru?"ru":"en")}reachGoal(e){this.api.getSurveysByCondition({event:"reachGoal",value:e.name,counter:e.counter}).forEach((e=>ke(this,void 0,void 0,(function*(){e.setFulfilled("reachGoal"),(yield e.checkShow("reachGoal"))&&this.setState({survey_active:e})}))))}monkeyPatchMetrika(e){const t=this;window.ym=function(...n){const i=n[2],s=n[1],r=n[0];e.apply(this,n),"reachGoal"==s&&t.reachGoal({name:String(i),counter:Number(r)})}}monkeyPatchOldMetrika(){this.api.getSurveys().forEach((e=>{e.events.forEach((({event:e,counter:t})=>{"reachGoal"===e&&window[`yaCounter${t}`]&&this.monkeyPatchOldMetrikaCounter(t)}))}))}monkeyPatchOldMetrikaCounter(e){const t=this,n=window[`yaCounter${e}`].reachGoal;window[`yaCounter${e}`].reachGoal=function(...i){const s=i[0];n.apply(this,i),t.reachGoal({name:String(s),counter:e})}}init(e,t){var n;this.supportOldMetrikaCounter=null!==(n=null==t?void 0:t.supportOldMetrikaCounter)&&void 0!==n&&n,(null==t?void 0:t.hideHeader)&&this.hideHeader(),(null==t?void 0:t.forceTheme)&&this.forceTheme(t.forceTheme);const i=this.getLang(null==t?void 0:t.lang);this.setState({lang:i}),this.api.init(e,null!=t?t:{})}subscribe(e,t){switch(e){case j.SHOW_PASSIVE:this.on_show_passive_callbacks.push(t);break;case j.CLOSE_PASSIVE:this.on_close_passive_callbacks.push(t);break;default:this.api.addEventListener(e,t)}}unsubscribe(e,t){var n,i;switch(e){case j.SHOW_PASSIVE:this.on_show_passive_callbacks=null===(n=this.on_show_passive_callbacks)||void 0===n?void 0:n.filter((e=>e!==t));break;case j.CLOSE_PASSIVE:this.on_close_passive_callbacks=null===(i=this.on_close_passive_callbacks)||void 0===i?void 0:i.filter((e=>e!==t));break;default:this.api.removeEventListener(e,t)}}setActiveFeedbackQueryParams(e,t){this.api.setQueryParams(e,t)}setPassiveFeedbackQueryParams(e){var t;const n=null===(t=this.api.getPassiveFeedback())||void 0===t?void 0:t.slug;this.api.setQueryParams(n,e)}setDefaultQueryParams(e){this.api.setQueryParams("default",e)}showActiveFeedback(e,t){this.setState({survey_active:{slug:e,appearance:{direction:(null==t?void 0:t.direction)||"bottom-left"},isFinished:!1,isRendered:!1,setFinished(){this.isFinished=!0,"function"==typeof(null==t?void 0:t.onFinish)&&t.onFinish()},setRendered(){this.isRendered=!0,"function"==typeof(null==t?void 0:t.onRender)&&(null==t||t.onRender())},skip(){"function"==typeof(null==t?void 0:t.onSkip)&&(null==t||t.onSkip())}}})}showPassiveFeedback(){var e;this.setState({is_modal_visible:!0}),null===(e=this.on_show_passive_callbacks)||void 0===e||e.forEach((e=>e({detail:{survey:this.api.getPassiveFeedback()}})))}closePassiveFeedback(){var e;this.setState({is_modal_visible:!1}),null===(e=this.on_close_passive_callbacks)||void 0===e||e.forEach((e=>e({detail:{survey:this.api.getPassiveFeedback()}})))}renderPassiveFeedback(){var e,t,n;const i=null===(e=this.api.getPassiveFeedback())||void 0===e?void 0:e.slug,s=null!==(n=null===(t=this.api.getPassiveFeedback())||void 0===t?void 0:t.appearance)&&void 0!==n?n:{},r=this.api.getQueryParams(i),a=this.state.is_modal_visible;return s.isButtonHidden||(Ae.showPassiveFeedback=null),(0,o.h)(ge,{slug:i,queryParams:r,appearance:s,showHeader:!this.state.is_header_hidden,isModalVisible:a,onCloseModal:()=>this.closePassiveFeedback(),onShowModal:()=>this.showPassiveFeedback()})}renderActiveFeedback(){var e;const t=this.api.getQueryParams(this.state.survey_active.slug),n=null===(e=this.state.survey_active.appearance)||void 0===e?void 0:e.direction;return(0,o.h)(ue,{direction:n,showHeader:!this.state.is_header_hidden,queryParams:t,survey:this.state.survey_active,onClose:()=>{!this.state.survey_active.isFinished&&this.state.survey_active.skip(),setTimeout((()=>this.setState({survey_active:null})),500)}})}renderScrollObserverLine(){return(0,o.h)("div",{ref:this.scroll_observer_line_ref,className:Se["scroll-observer-line"]})}setupOnloadEventHandlers(){this.api.getSurveys().forEach((e=>{0===e.events.length&&(e.events=[{event:"onload",delayMS:0}]),e.events.filter((t=>"onload"===t.event&&!e.isFullfilled("onload"))).forEach((t=>{const n=setTimeout((()=>ke(this,void 0,void 0,(function*(){document.hidden||(e.setFulfilled("onload"),(yield e.checkShow("onload"))&&this.setState({survey_active:e}))}))),t.delayMS);this.onloadTimerIds.push(n)}))}))}removeOnloadEventHandlers(){this.onloadTimerIds.forEach(clearTimeout),this.onloadTimerIds=[]}setupOnscrollEventHandlers(){const e=this.api.getSurveys().filter((e=>e.events.some((e=>"scroll"===e.event)))),t=[];e.map((e=>{const n=(e=>{var t;return parseInt(null===(t=e.events.find((e=>"scroll"===e.event)).value)||void 0===t?void 0:t.slice(0,-2),10)})(e),i=new IntersectionObserver((t=>{t.forEach((t=>ke(this,void 0,void 0,(function*(){t.isIntersecting||(e.setFulfilled("scroll"),(yield e.checkShow("scroll"))&&this.setState({survey_active:e}))}))))}),{rootMargin:`${n}px`});t.push(i)})),this.setState({observers:t})}setupActiveFeedbackEventHandlers(){this.setupOnloadEventHandlers(),this.setupOnscrollEventHandlers(),document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&this.setupOnloadEventHandlers(),"hidden"===document.visibilityState&&this.removeOnloadEventHandlers()}))}componentWillMount(){this.mq=window.matchMedia("(prefers-color-scheme: dark)"),this.mqChangeListener=e=>this.setTheme(e.matches?"dark":"light"),this.state.is_theme_forced||(this.setTheme(this.mq.matches?"dark":"light"),this.mq.addEventListener("change",this.mqChangeListener))}setTheme(e){this.setState({theme:e})}forceTheme(e){this.mq.removeEventListener("change",this.mqChangeListener),this.setState({theme:e,is_theme_forced:!0})}hideHeader(){this.setState({is_header_hidden:!0})}showHeader(){this.setState({is_header_hidden:!1})}disableAllSurveys(){this.api.disableAllSurveys()}enableAllSurveys(){this.api.enableAllSurveys(),this.api.getSurveys().forEach((e=>ke(this,void 0,void 0,(function*(){(yield e.checkShow("survey_enabled"))&&this.setState({survey_active:e})}))))}componentDidUpdate(){var e;this.state.observer_active||(null===(e=this.state.observers)||void 0===e||e.forEach((e=>e.observe(this.scroll_observer_line_ref.current))),this.setState({observer_active:!0}))}componentWillUnmount(){this.mq.removeEventListener("change",this.mqChangeListener),this.state.observers.forEach((e=>e.unobserve(this.scroll_observer_line_ref.current)))}render(){const e=b((()=>this.state.survey_active&&this.renderActiveFeedback()),[this.state.survey_active,this.state.is_header_hidden]);return(0,o.h)(T.Provider,{value:this.state.theme},(0,o.h)(H.Provider,{value:this.state.lang},(0,o.h)("div",{className:Se.overflow_wrapper},(0,o.h)("div",{"data-theme":this.state.theme,className:Se.root},this.state.has_passive_feedback&&this.renderPassiveFeedback(),e,this.renderScrollObserverLine()))))}}})(),Ya.Feedback=i})();